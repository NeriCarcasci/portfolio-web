import{d as be,s as w,e as Ee,a as b,f as $,c as Ae,t as me}from"../chunks/CzMFQgrY.js";import{o as Je}from"../chunks/45n6dgAp.js";import{p as Z,c as m,r as u,s as g,w as l,g as n,t as O,a as ee,x as S,f as he,h as ge,A as fe,n as V,a0 as Ce}from"../chunks/_eWs1X5C.js";import{i as Y}from"../chunks/CMxh1oUs.js";import{r as Qe,c as je,h as Xe,b as Le,e as ne,s as Ze,i as ye,a as L}from"../chunks/CN5bnX4I.js";import{b as xe}from"../chunks/BfQRXcNO.js";import{g as et}from"../chunks/Cwa-NJ8l.js";import{B as pe}from"../chunks/CQNAcEwz.js";import{p as Pe}from"../chunks/Cnogj6Rd.js";import{c as De}from"../chunks/D_wfey8F.js";import{a as tt,S as rt}from"../chunks/PmFd-sA7.js";import{a as nt}from"../chunks/BAysJvfQ.js";import{b as at}from"../chunks/jhY-moxf.js";import{S as st}from"../chunks/DkOdPwSE.js";var ot=$('<form class="flex items-center"><span class="text-emerald-400" aria-hidden="true"> </span> <span class="text-muted-foreground" aria-hidden="true">:</span> <span class="text-sky-400" aria-hidden="true"> </span> <span class="text-muted-foreground" aria-hidden="true"> </span> <input type="text" autocomplete="off" autocapitalize="off" spellcheck="false" aria-label="Terminal input"/></form>');function it(r,t){Z(t,!0);let e=Pe(t,"value",15),a=Pe(t,"disabled",3,!1),s=S(void 0);function o(){if(!n(s))return;n(s).focus();const x=n(s).value.length;requestAnimationFrame(()=>{var C;try{(C=n(s))==null||C.setSelectionRange(x,x)}catch{}})}function c(x){x.preventDefault(),e().trim()&&t.onsubmit(e())}function p(x){const C=x.target;e(C.value),t.oninput(C.value)}function v(x){t.onkeydown(x)}var f={focus:o},h=ot(),_=m(h),A=m(_);u(_);var y=g(_,4),D=m(y,!0);u(y);var j=g(y,2),I=m(j,!0);u(j);var T=g(j,2);return Qe(T),T.__input=p,T.__keydown=v,xe(T,x=>l(s,x),()=>n(s)),u(h),O(x=>{w(A,`${t.prompt.user??""}@${t.prompt.host??""}`),w(D,t.prompt.path),w(I,t.prompt.symbol),Xe(T,e()),T.disabled=a(),Le(T,1,x)},[()=>je(De("ml-2 flex-1 bg-transparent outline-none text-foreground","placeholder:text-muted-foreground/50","disabled:opacity-50"))]),Ee("submit",h,c),b(r,h),ee(f)}be(["input","keydown"]);var lt=$('<button type="button" role="option"><code class="text-foreground"> </code> <span class="text-muted-foreground text-xs truncate ml-4"> </span></button>'),ct=$('<div class="absolute bottom-full left-0 right-0 mb-1 bg-card border border-border rounded-md shadow-lg overflow-hidden z-10" role="listbox"></div>');function ut(r,t){Z(t,!0);var e=Ae(),a=he(e);{var s=o=>{var c=ct();ne(c,21,()=>t.suggestions,ye,(p,v,f)=>{var h=lt();h.__click=()=>t.onselect(n(v));var _=m(h),A=m(_,!0);u(_);var y=g(_,2),D=m(y,!0);u(y),u(h),O(j=>{Le(h,1,j),Ze(h,"aria-selected",f===t.selectedIndex),w(A,n(v).command),w(D,n(v).description)},[()=>je(De("w-full px-3 py-2 text-left text-sm flex justify-between items-center","hover:bg-accent transition-colors",f===t.selectedIndex&&"bg-accent"))]),b(p,h)}),u(c),b(o,c)};Y(a,o=>{t.suggestions.length>0&&o(s)})}b(r,e),ee()}be(["click"]);const Ie="neric",dt="portfolio",ae="/";let se=ae;function G(r){return{type:"file",content:typeof r=="function"?r:()=>r}}function mt(r){var e;const t=(e=r.links)!=null&&e.length?`Links:
${r.links.map(a=>`- ${a.label}: ${a.url}`).join(`
`)}`:"";return[`Title: ${r.title}`,`Summary: ${r.summary}`,r.tags.length?`Tags: ${r.tags.join(", ")}`:"",r.tech.length?`Tech: ${r.tech.join(", ")}`:"",t?`
${t}`:"","",`Open: /projects/${r.slug}`].filter(Boolean).join(`
`)}function ft(r){return[`Title: ${r.title}`,`Date: ${r.date}`,`Summary: ${r.description}`,`Tags: ${r.tags.join(", ")}`,"",`Open: /blog/${r.slug}`].join(`
`)}function pt(){return["Welcome to the portfolio terminal.","","Try:","- ls","- cd /projects","- ls","- cat trusted-ai-metrics.txt","- cat about.txt","","Commands:","  help, ls, cd, cat, pwd, whoami, clear, exit"].join(`
`)}function vt(){return[`${L.name} - ${L.role}`,"",L.summary,"",L.bio,"",`Skills: ${L.skills.join(", ")}`].join(`
`)}function ht(){return[`Email: ${L.email}`,`GitHub: ${L.github}`,`LinkedIn: ${L.linkedin}`,`CV: ${L.cvUrl}`].join(`
`)}function gt(){const r={type:"dir",children:{}};for(const e of nt())r.children[`${e.slug}.txt`]=G(()=>mt(e));const t={type:"dir",children:{}};for(const e of at())t.children[`${e.slug}.md`]=G(()=>ft(e));return{type:"dir",children:{projects:r,blog:t,"readme.md":G(pt),"about.txt":G(vt),"contact.txt":G(ht)}}}const xt=gt();function oe(r){const e=Q(r).split("/").filter(Boolean);let a=xt;for(const s of e){if(a.type!=="dir")return null;const o=a.children[s];if(!o)return null;a=o}return a}function Q(r){if(!r)return ae;const t=r.split("/").filter(Boolean),e=[];for(const a of t)if(!(a==="."||a==="")){if(a===".."){e.pop();continue}e.push(a)}return`/${e.join("/")}`}function ie(r,t=se){if(!r||r===".")return Q(t);let e=r;return e.startsWith("~")&&(e=`${ae}${e.slice(1)}`),e.startsWith("/")||(e=`${t.replace(/\/$/,"")}/${e}`),Q(e)}function ze(r){const t=oe(r);return!t||t.type!=="dir"?null:Object.entries(t.children).map(([e,a])=>({name:e,type:a.type})).sort((e,a)=>e.type!==a.type?e.type==="dir"?-1:1:e.name.localeCompare(a.name))}function Ne(r){const t=oe(r);return(t==null?void 0:t.type)==="dir"}function Re(r){const t=oe(r);return(t==null?void 0:t.type)==="file"}function bt(r){const t=oe(r);return!t||t.type!=="file"?null:t.content()}function yt(r){se=Q(r)}function J(){return se}function _t(r){const t=Q(r);return t==="/"?"~":`~${t}`}function Be(r=se){return{user:Ie,host:dt,path:_t(r),symbol:"$"}}var wt=$('<div class="terminal-output svelte-1579ok3"><!></div>'),$t=$('<div class="space-y-2"><div class="flex items-center text-muted-foreground"><span class="text-emerald-400"> </span> <span class="text-muted-foreground">:</span> <span class="text-sky-400"> </span> <span class="text-muted-foreground"> </span> <span class="text-foreground ml-2"> </span></div> <!></div>'),kt=$('<div class="space-y-4" role="log" aria-live="polite"></div>');function St(r,t){Z(t,!0);var e=kt();ne(e,21,()=>t.entries,a=>a.timestamp,(a,s)=>{const o=ge(()=>Be(n(s).cwd));var c=$t(),p=m(c),v=m(p),f=m(v);u(v);var h=g(v,4),_=m(h,!0);u(h);var A=g(h,2),y=m(A,!0);u(A);var D=g(A,2),j=m(D,!0);u(D),u(p);var I=g(p,2);{var T=x=>{var C=wt(),le=m(C);tt(le,()=>n(s).output),u(C),b(x,C)};Y(I,x=>{n(s).output&&x(T)})}u(c),O(()=>{w(f,`${n(o).user??""}@${n(o).host??""}`),w(_,n(o).path),w(y,n(o).symbol),w(j,n(s).command)}),b(a,c)}),u(e),b(r,e),ee()}var Tt=$('<button type="button" class="px-2 py-1 text-xs bg-secondary text-secondary-foreground rounded hover:bg-secondary/80 transition-colors font-mono"> </button>'),Ct=$('<div class="flex flex-wrap gap-2"><span class="text-muted-foreground text-sm">Try:</span> <!></div>');function Pt(r,t){Z(t,!0);var e=Ct(),a=g(m(e),2);ne(a,17,()=>t.commands,ye,(s,o)=>{var c=Tt();c.__click=()=>t.onselect(n(o));var p=m(c,!0);u(c),O(()=>w(p,n(o))),b(s,c)}),u(e),b(r,e),ee()}be(["click"]);function Et(r){const t=r.trim();if(!t)return{base:".",partial:"",prefix:""};const e=t.lastIndexOf("/");if(e===-1)return{base:".",partial:t,prefix:""};const a=t.slice(0,e)||"/",s=t.slice(e+1),o=t.slice(0,e+1);return{base:a,partial:s,prefix:o}}function ve(r,t,e,a){const{base:s,partial:o,prefix:c}=Et(t),p=ie(s,J()),v=ze(p);return v?v.filter(f=>e&&f.type!=="dir"||a&&f.type!=="file"?!1:f.name.startsWith(o)).map(f=>{const h=f.type==="dir"?"/":"";return{command:`${r} ${c}${f.name}${h}`,description:f.type==="dir"?"directory":"file"}}).slice(0,6):[]}function Fe(r,t){const e=r,a=e.trimStart();if(!a.trim())return[];const o=a.includes(" ")||e.endsWith(" "),c=a.match(/^(\S+)(?:\s+(.*))?$/);if(!c)return[];const p=c[1].toLowerCase(),v=(c[2]??"").trim();return o?p==="cd"?ve(p,v,!0,!1):p==="ls"?ve(p,v,!1,!1):p==="cat"?ve(p,v,!1,!0):[]:Array.from(t.entries()).filter(([f])=>f.startsWith(p)).map(([f,h])=>({command:f,description:h.description})).slice(0,6)}function At(r,t){const e=Fe(r,t);if(e.length===1)return e[0].command;if(e.length>1){let s=e[0].command;for(const o of e)for(;!o.command.startsWith(s)&&s.length>0;)s=s.slice(0,-1);if(s.length>r.trim().length)return s}return null}function te(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function jt(r){return r.length===0?"":r.map(t=>t.type==="dir"?`${t.name}/`:t.name).join(`
`)}function X(r){return`<pre class="whitespace-pre-wrap">${te(r)}</pre>`}function Lt(r){const e=r.replace(/\/+$/,"").split("/").filter(Boolean);return e[e.length-1]??"/"}const E=new Map;E.set("help",{name:"help",description:"Show available commands",execute:()=>({html:`<div class="space-y-2">
  <p class="text-muted-foreground">Available commands:</p>
  <ul class="space-y-1 ml-4">
    <li><code class="text-foreground">help</code> <span class="text-muted-foreground">- Show this help</span></li>
    <li><code class="text-foreground">ls</code> <span class="text-muted-foreground">- List files</span></li>
    <li><code class="text-foreground">cd &lt;path&gt;</code> <span class="text-muted-foreground">- Change directory</span></li>
    <li><code class="text-foreground">cat &lt;file&gt;</code> <span class="text-muted-foreground">- Print a file</span></li>
    <li><code class="text-foreground">pwd</code> <span class="text-muted-foreground">- Show current directory</span></li>
    <li><code class="text-foreground">whoami</code> <span class="text-muted-foreground">- Show current user</span></li>
    <li><code class="text-foreground">clear</code> <span class="text-muted-foreground">- Clear terminal</span></li>
    <li><code class="text-foreground">exit</code> <span class="text-muted-foreground">- Exit terminal mode</span></li>
  </ul>
</div>`})});E.set("ls",{name:"ls",description:"List files",execute:r=>{const t=r[0]??".",e=ie(t),a=ze(e);if(!a)return Re(e)?{html:X(Lt(e))}:{html:`<p class="text-red-400">ls: cannot access '${te(t)}': No such file or directory</p>`};const s=jt(a);return{html:s?X(s):""}}});E.set("cd",{name:"cd",description:"Change directory",usage:"cd <path>",execute:r=>{const t=r[0]??ae,e=ie(t);if(!Ne(e)){const a=Re(e)?"Not a directory":"No such file or directory";return{html:`<p class="text-red-400">cd: ${te(t)}: ${a}</p>`}}return yt(e),{html:""}}});E.set("cat",{name:"cat",description:"Print a file",usage:"cat <file>",execute:r=>{const t=r[0];if(!t)return{html:'<p class="text-red-400">Usage: cat &lt;file&gt;</p>'};const e=ie(t),a=bt(e);if(a===null){const s=Ne(e)?"Is a directory":"No such file or directory";return{html:`<p class="text-red-400">cat: ${te(t)}: ${s}</p>`}}return{html:X(a)}}});E.set("pwd",{name:"pwd",description:"Show current directory",execute:()=>({html:X(J())})});E.set("whoami",{name:"whoami",description:"Show current user",execute:()=>({html:X(Ie)})});E.set("clear",{name:"clear",description:"Clear terminal",execute:()=>({html:"__CLEAR__"})});E.set("exit",{name:"exit",description:"Exit terminal mode",execute:()=>({html:"<p>Exiting terminal...</p>",navigate:"/"})});function Dt(r){return E.get(r.toLowerCase())}async function It(r){var o;const t=r.trim().split(/\s+/),e=(o=t[0])==null?void 0:o.toLowerCase(),a=t.slice(1);if(!e)return{html:""};const s=Dt(e);return s?s.execute(a):{html:`<p class="text-red-400">command not found: ${te(e)}</p><p class="text-muted-foreground mt-1">Type <code>help</code> for available commands.</p>`}}var zt=$(`<div class="container-main py-12"><h1 class="text-2xl font-semibold mb-3">Terminal unavailable</h1> <p class="text-muted-foreground mb-6">Something went wrong while loading the interactive terminal. You can return home or try
      reloading this page.</p> <!></div>`),Nt=$('<div class="h-4 w-full bg-muted rounded motion-safe:animate-pulse"></div>'),Rt=$('<div class="h-screen flex flex-col bg-background font-mono" aria-busy="true"><header class="flex items-center justify-between px-4 py-3 border-b border-border"><div class="flex items-center text-sm"><span class="text-emerald-400"> </span> <span class="text-muted-foreground">:</span> <span class="text-sky-400"> </span></div> <!></header> <div class="flex-1 overflow-y-auto p-4 space-y-4"><div class="space-y-2"><div class="h-4 w-52 bg-muted rounded motion-safe:animate-pulse"></div> <div class="h-4 w-80 bg-muted rounded motion-safe:animate-pulse"></div></div> <div class="space-y-3"></div> <div class="h-4 w-48 bg-muted rounded motion-safe:animate-pulse"></div></div></div>'),Bt=$('<div class="h-screen flex flex-col bg-background font-mono"><header class="flex items-center justify-between px-4 py-3 border-b border-border"><div class="flex items-center text-sm"><span class="text-emerald-400"> </span> <span class="text-muted-foreground">:</span> <span class="text-sky-400"> </span></div> <!></header> <div class="flex-1 overflow-y-auto p-4 space-y-4"><div class="text-muted-foreground"><p>Welcome to the portfolio terminal.</p> <p>Type <code class="bg-muted px-1.5 py-0.5 rounded text-foreground">help</code> to see available commands.</p></div> <!> <!> <div class="relative pb-6"><!> <!></div></div></div>'),Ft=$("<!> <!> <noscript></noscript>",1);function tr(r,t){Z(t,!0);let e=S(fe([])),a=S(-1),s=S(""),o=S(fe([])),c=S(-1),p=S(!1),v=S(void 0),f=S(void 0),h=S(!1),_=S(null),A=S(fe(J()));const y=ge(()=>Be(n(A))),D=["ls","cd /projects","cat readme.md","help"],j=[0,1,2,3,4];function I(i){console.error("Terminal UI error",i),l(_,"Terminal failed to initialize. Please try again or return home.")}function T(i,d,k){l(e,[...n(e),{command:i,output:d,timestamp:Date.now(),cwd:k}],!0),l(a,n(e).length,!0)}function x(){l(e,[],!0),l(a,-1)}function C(){var i;return n(e).length===0?null:(n(a)>0?l(a,n(a)-1):l(a,0),((i=n(e)[n(a)])==null?void 0:i.command)??null)}function le(){var i;return n(e).length===0?null:n(a)<n(e).length-1?(l(a,n(a)+1),((i=n(e)[n(a)])==null?void 0:i.command)??null):(l(a,n(e).length,!0),"")}function He(){l(a,n(e).length,!0)}Je(()=>{var i;l(h,!0);try{(i=n(f))==null||i.focus()}catch(d){I(d)}});function _e(i){if(!n(_))try{l(o,Fe(i,E),!0),l(c,-1)}catch(d){I(d)}}async function we(i){var d;if(!n(_)){l(p,!0),l(o,[],!0),l(c,-1);try{const k=J(),z=await It(i);z.html==="__CLEAR__"?x():T(i,z.html,k),l(A,J(),!0),l(s,""),He(),l(p,!1),setTimeout(()=>{n(v)&&(n(v).scrollTop=n(v).scrollHeight)},10),z.navigate&&setTimeout(()=>{et(z.navigate)},100),(d=n(f))==null||d.focus()}catch(k){l(p,!1),I(k)}}}function We(i){if(!n(_))try{if(i.key==="ArrowUp"){if(i.preventDefault(),n(o).length>0&&n(c)>0)Ce(c,-1);else if(n(o).length===0){const d=C();d!==null&&l(s,d,!0)}}else if(i.key==="ArrowDown"){if(i.preventDefault(),n(o).length>0&&n(c)<n(o).length-1)Ce(c);else if(n(o).length===0){const d=le();d!==null&&l(s,d,!0)}}else if(i.key==="Tab")if(i.preventDefault(),n(o).length>0&&n(c)>=0)l(s,n(o)[n(c)].command,!0),l(o,[],!0);else{const d=At(n(s),E);d&&(l(s,d,!0),_e(n(s)))}else i.key==="Enter"&&n(c)>=0?(i.preventDefault(),l(s,n(o)[n(c)].command,!0),l(o,[],!0),l(c,-1)):i.key==="Escape"&&(l(o,[],!0),l(c,-1))}catch(d){I(d)}}function Me(i){var d;l(s,i.command,!0),l(o,[],!0),l(c,-1),(d=n(f))==null||d.focus()}function Oe(i){we(i)}function Ue(i){var k;const d=i.target;d&&(d.closest("a, button, input, textarea, select, [data-terminal-no-focus]")||(k=n(f))==null||k.focus())}var $e=Ft(),ke=he($e);{let i=ge(()=>`Terminal | ${rt}`);st(ke,{get title(){return n(i)},description:"Interactive terminal interface to explore the portfolio.",canonical:"/terminal",noindex:!0})}var qe=g(ke,2);{var Ke=i=>{var d=zt(),k=g(m(d),4);pe(k,{href:"/",children:(z,Se)=>{V();var N=me("Back home");b(z,N)},$$slots:{default:!0}}),u(d),b(i,d)},Ve=i=>{var d=Ae(),k=he(d);{var z=N=>{var R=Rt(),B=m(R),F=m(B),H=m(F),ce=m(H);u(H);var U=g(H,4),ue=m(U,!0);u(U),u(F);var de=g(F,2);pe(de,{href:"/",variant:"ghost",size:"sm",children:(K,re)=>{V();var M=me("Exit");b(K,M)},$$slots:{default:!0}}),u(B);var W=g(B,2),q=g(m(W),2);ne(q,21,()=>j,ye,(K,re)=>{var M=Nt();b(K,M)}),u(q),V(2),u(W),u(R),O(()=>{w(ce,`${n(y).user??""}@${n(y).host??""}`),w(ue,n(y).path)}),b(N,R)},Se=N=>{var R=Bt(),B=m(R),F=m(B),H=m(F),ce=m(H);u(H);var U=g(H,4),ue=m(U,!0);u(U),u(F);var de=g(F,2);pe(de,{href:"/",variant:"ghost",size:"sm",children:(P,Ht)=>{V();var Ye=me("Exit");b(P,Ye)},$$slots:{default:!0}}),u(B);var W=g(B,2),q=g(m(W),2);{var K=P=>{Pt(P,{get commands(){return D},onselect:Oe})};Y(q,P=>{n(e).length===0&&P(K)})}var re=g(q,2);St(re,{get entries(){return n(e)}});var M=g(re,2),Te=m(M);ut(Te,{get suggestions(){return n(o)},get selectedIndex(){return n(c)},onselect:Me});var Ge=g(Te,2);xe(it(Ge,{get prompt(){return n(y)},onsubmit:we,onkeydown:We,oninput:_e,get disabled(){return n(p)},get value(){return n(s)},set value(P){l(s,P,!0)}}),P=>l(f,P,!0),()=>n(f)),u(M),u(W),xe(W,P=>l(v,P),()=>n(v)),u(R),O(()=>{w(ce,`${n(y).user??""}@${n(y).host??""}`),w(ue,n(y).path)}),Ee("click",W,Ue),b(N,R)};Y(k,N=>{n(h)?N(Se,!1):N(z)},!0)}b(i,d)};Y(qe,i=>{n(_)?i(Ke):i(Ve,!1)})}V(2),b(r,$e),ee()}export{tr as component};
