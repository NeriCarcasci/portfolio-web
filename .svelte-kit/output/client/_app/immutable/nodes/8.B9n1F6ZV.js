import{g as X,h as Ee,a as f,f as w,c as ie,s as q,t as F}from"../chunks/sE9xILkw.js";import{o as Ae}from"../chunks/Bq8c2gde.js";import{p as V,s as y,c as g,N as c,g as t,r as m,t as z,a as B,O as C,f as Y,a1 as ae,e as Pe,$ as Le,n as R,ao as ne}from"../chunks/DtJa-QzH.js";import{i as O}from"../chunks/BCuiBAxe.js";import{r as De,c as ce,f as Ue,a as de,e as H,s as Ie,i as Z}from"../chunks/nMl9UcZN.js";import{h as Ne}from"../chunks/DWJJRP8r.js";import{b as Q}from"../chunks/Db-3-XRS.js";import{g as Re}from"../chunks/Cr9WP4GD.js";import{B as J}from"../chunks/DvtK3DxQ.js";import{p as le}from"../chunks/DeG8hgrU.js";import{c as ue}from"../chunks/Dq0Abfz1.js";import{h as Oe}from"../chunks/Bd4Sucs9.js";import{g as pe,b as me}from"../chunks/BOfVvCVC.js";import{a as j}from"../chunks/D18RoI9x.js";import{c as fe,b as qe}from"../chunks/jhY-moxf.js";var Ve=w('<form class="flex items-center gap-2"><span class="text-muted-foreground select-none" aria-hidden="true">&gt;</span> <input type="text" autocomplete="off" autocapitalize="off" spellcheck="false" placeholder="Type a command..." aria-label="Terminal input"/></form>');function ze(n,s){V(s,!0);let e=le(s,"value",15),o=le(s,"disabled",3,!1),r=C(void 0);function l(){var x;(x=t(r))==null||x.focus()}function i(x){x.preventDefault(),e().trim()&&s.onsubmit(e())}function p(x){const E=x.target;e(E.value),s.oninput(E.value)}function _(x){s.onkeydown(x)}var $={focus:l},v=Ve(),h=y(g(v),2);return De(h),h.__input=p,h.__keydown=_,Q(h,x=>c(r,x),()=>t(r)),m(v),z(x=>{Ue(h,e()),h.disabled=o(),de(h,1,x)},[()=>ce(ue("flex-1 bg-transparent outline-none text-foreground","placeholder:text-muted-foreground/50","disabled:opacity-50"))]),Ee("submit",v,i),f(n,v),B($)}X(["input","keydown"]);var Be=w('<button type="button" role="option"><code class="text-foreground"> </code> <span class="text-muted-foreground text-xs truncate ml-4"> </span></button>'),He=w('<div class="absolute bottom-full left-0 right-0 mb-1 bg-card border border-border rounded-md shadow-lg overflow-hidden z-10" role="listbox"></div>');function Ge(n,s){V(s,!0);var e=ie(),o=Y(e);{var r=l=>{var i=He();H(i,21,()=>s.suggestions,Z,(p,_,$)=>{var v=Be();v.__click=()=>s.onselect(t(_));var h=g(v),x=g(h,!0);m(h);var E=y(h,2),D=g(E,!0);m(E),m(v),z(G=>{de(v,1,G),Ie(v,"aria-selected",$===s.selectedIndex),q(x,t(_).command),q(D,t(_).description)},[()=>ce(ue("w-full px-3 py-2 text-left text-sm flex justify-between items-center","hover:bg-accent transition-colors",$===s.selectedIndex&&"bg-accent"))]),f(p,v)}),m(i),f(l,i)};O(o,l=>{s.suggestions.length>0&&l(r)})}f(n,e),B()}X(["click"]);var We=w('<div class="space-y-2"><div class="flex items-center gap-2 text-muted-foreground"><span aria-hidden="true">&gt;</span> <span class="text-foreground"> </span></div> <div class="pl-4 terminal-output svelte-1579ok3"><!></div></div>'),Ke=w('<div class="space-y-4" role="log" aria-live="polite"></div>');function Me(n,s){var e=Ke();H(e,21,()=>s.entries,o=>o.timestamp,(o,r)=>{var l=We(),i=g(l),p=y(g(i),2),_=g(p,!0);m(p),m(i);var $=y(i,2),v=g($);Oe(v,()=>t(r).output),m($),m(l),z(()=>q(_,t(r).command)),f(o,l)}),m(e),f(n,e)}var Fe=w('<button type="button" class="px-2 py-1 text-xs bg-secondary text-secondary-foreground rounded hover:bg-secondary/80 transition-colors font-mono"> </button>'),Je=w('<div class="flex flex-wrap gap-2"><span class="text-muted-foreground text-sm">Try:</span> <!></div>');function Ye(n,s){V(s,!0);var e=Je(),o=y(g(e),2);H(o,17,()=>s.commands,Z,(r,l)=>{var i=Fe();i.__click=()=>s.onselect(t(l));var p=g(i,!0);m(i),z(()=>q(p,t(l))),f(r,i)}),m(e),f(n,e),B()}X(["click"]);function ge(n,s){const e=n.trim().toLowerCase();if(!e)return[];const o=e.split(/\s+/),r=o[0],l=o.slice(1).join(" ");return o.length===1?Array.from(s.entries()).filter(([i])=>i.startsWith(r)).map(([i,p])=>({command:i,description:p.description})).slice(0,6):(r==="project"||r==="open")&&o.length>=1?pe().filter(p=>p.slug.includes(l)||p.title.toLowerCase().includes(l)).map(p=>({command:`${r} ${p.slug}`,description:p.title})).slice(0,6):[]}function Qe(n,s){const e=ge(n,s);if(e.length===1)return e[0].command;if(e.length>1){let r=e[0].command;for(const l of e)for(;!l.command.startsWith(r)&&r.length>0;)r=r.slice(0,-1);if(r.length>n.trim().length)return r}return null}function d(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function he(n){return new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}const b=new Map;b.set("help",{name:"help",description:"Show available commands",execute:()=>({html:`<div class="space-y-2">
  <p class="text-muted-foreground">Available commands:</p>
  <ul class="space-y-1 ml-4">
    <li><code class="text-foreground">help</code> <span class="text-muted-foreground">- Show this help</span></li>
    <li><code class="text-foreground">home</code> <span class="text-muted-foreground">- Go to home page</span></li>
    <li><code class="text-foreground">projects</code> <span class="text-muted-foreground">- List all projects</span></li>
    <li><code class="text-foreground">project &lt;slug&gt;</code> <span class="text-muted-foreground">- Show project details</span></li>
    <li><code class="text-foreground">blog</code> <span class="text-muted-foreground">- List blog posts</span></li>
    <li><code class="text-foreground">post &lt;slug&gt;</code> <span class="text-muted-foreground">- Show blog post</span></li>
    <li><code class="text-foreground">open &lt;slug&gt;</code> <span class="text-muted-foreground">- Navigate to page</span></li>
    <li><code class="text-foreground">about</code> <span class="text-muted-foreground">- About me</span></li>
    <li><code class="text-foreground">contact</code> <span class="text-muted-foreground">- Contact information</span></li>
    <li><code class="text-foreground">cv</code> <span class="text-muted-foreground">- Open CV/resume</span></li>
    <li><code class="text-foreground">ask &lt;question&gt;</code> <span class="text-muted-foreground">- Ask about my work</span></li>
    <li><code class="text-foreground">clear</code> <span class="text-muted-foreground">- Clear terminal</span></li>
    <li><code class="text-foreground">exit</code> <span class="text-muted-foreground">- Exit terminal mode</span></li>
  </ul>
</div>`})});b.set("home",{name:"home",description:"Go to home page",execute:()=>({html:"<p>Navigating to home...</p>",navigate:"/"})});b.set("projects",{name:"projects",description:"List all projects",execute:()=>{const n=pe(),s=n.map(e=>`<li class="py-2 border-b border-border last:border-0">
  <a href="/projects/${e.slug}" class="text-foreground hover:underline font-medium">${d(e.title)}</a>
  <p class="text-muted-foreground text-sm mt-1">${d(e.summary)}</p>
  <div class="flex gap-2 mt-1">${e.tags.map(o=>`<span class="text-xs text-muted-foreground">${d(o)}</span>`).join("")}</div>
</li>`).join("");return{html:`<div><p class="text-muted-foreground mb-3">${n.length} projects:</p><ul class="space-y-1">${s}</ul></div>`}}});b.set("project",{name:"project",description:"Show project details",usage:"project <slug>",execute:n=>{const s=n[0];if(!s)return{html:'<p class="text-red-400">Usage: project &lt;slug&gt;</p><p class="text-muted-foreground mt-1">Run <code>projects</code> to see available slugs.</p>'};const e=me(s);return e?{html:`<article class="space-y-4">
  <header>
    <h2 class="text-lg font-semibold">${d(e.title)}</h2>
    <p class="text-muted-foreground">${d(e.summary)}</p>
  </header>
  <section>
    <h3 class="font-medium text-muted-foreground">Problem</h3>
    <p>${d(e.problem)}</p>
  </section>
  <section>
    <h3 class="font-medium text-muted-foreground">Approach</h3>
    <p>${d(e.approach)}</p>
  </section>
  <section>
    <h3 class="font-medium text-muted-foreground">Impact</h3>
    <p>${d(e.impact)}</p>
  </section>
  <section>
    <h3 class="font-medium text-muted-foreground">Tech</h3>
    <p>${e.tech.map(o=>d(o)).join(", ")}</p>
  </section>
  <p class="pt-2"><a href="/projects/${e.slug}" class="text-foreground underline">View full page →</a></p>
</article>`}:{html:`<p class="text-red-400">Project "${d(s)}" not found.</p><p class="text-muted-foreground mt-1">Run <code>projects</code> to see available slugs.</p>`}}});b.set("blog",{name:"blog",description:"List blog posts",execute:()=>{const n=qe();if(n.length===0)return{html:'<p class="text-muted-foreground">No blog posts yet. Check back soon!</p>'};const s=n.map(e=>`<li class="py-2 border-b border-border last:border-0">
  <a href="/blog/${e.slug}" class="text-foreground hover:underline font-medium">${d(e.title)}</a>
  <p class="text-muted-foreground text-xs mt-1">${he(e.date)}</p>
  <p class="text-muted-foreground text-sm mt-1">${d(e.description)}</p>
  <div class="flex gap-2 mt-1">${e.tags.map(o=>`<span class="text-xs text-muted-foreground">#${d(o)}</span>`).join(" ")}</div>
</li>`).join("");return{html:`<div><p class="text-muted-foreground mb-3">${n.length} posts:</p><ul class="space-y-1">${s}</ul></div>`}}});b.set("post",{name:"post",description:"Show blog post",usage:"post <slug>",execute:n=>{const s=n[0];if(!s)return{html:'<p class="text-red-400">Usage: post &lt;slug&gt;</p><p class="text-muted-foreground mt-1">Run <code>blog</code> to see available posts.</p>'};const e=fe(s);return e?{html:`<article class="space-y-4">
  <header>
    <h2 class="text-lg font-semibold">${d(e.title)}</h2>
    <p class="text-muted-foreground text-sm">${he(e.date)}</p>
  </header>
  <p>${d(e.description)}</p>
  <div class="flex gap-2">${e.tags.map(o=>`<span class="text-xs text-muted-foreground">#${d(o)}</span>`).join(" ")}</div>
  <p class="pt-2"><a href="/blog/${e.slug}" class="text-foreground underline">Read full post →</a></p>
</article>`}:{html:`<p class="text-red-400">Post "${d(s)}" not found.</p><p class="text-muted-foreground mt-1">Run <code>blog</code> to see available posts.</p>`}}});b.set("open",{name:"open",description:"Navigate to page",usage:"open <slug>",execute:n=>{const s=n[0];if(!s)return{html:'<p class="text-red-400">Usage: open &lt;slug&gt;</p>'};const e=me(s);if(e)return{html:`<p>Opening ${d(e.title)}...</p>`,navigate:`/projects/${e.slug}`};const o=fe(s);return o?{html:`<p>Opening ${d(o.title)}...</p>`,navigate:`/blog/${o.slug}`}:{html:`<p class="text-red-400">"${d(s)}" not found.</p><p class="text-muted-foreground mt-1">Run <code>projects</code> or <code>blog</code> to see available items.</p>`}}});b.set("about",{name:"about",description:"About me",execute:()=>{const n=j.timeline.map(s=>`<li class="flex gap-4"><span class="text-muted-foreground w-12">${d(s.year)}</span><div><span class="font-medium">${d(s.title)}</span><p class="text-muted-foreground text-sm">${d(s.description)}</p></div></li>`).join("");return{html:`<article class="space-y-4">
  <header>
    <h2 class="text-lg font-semibold">${d(j.name)}</h2>
    <p class="text-muted-foreground">${d(j.role)}</p>
  </header>
  <p>${d(j.bio)}</p>
  <section>
    <h3 class="font-medium text-muted-foreground mb-2">Timeline</h3>
    <ul class="space-y-2">${n}</ul>
  </section>
  <p class="pt-2"><a href="/about" class="text-foreground underline">View full page →</a></p>
</article>`}}});b.set("contact",{name:"contact",description:"Contact information",execute:()=>({html:`<section class="space-y-2">
  <h3 class="text-sm uppercase tracking-wide text-muted-foreground">Contact</h3>
  <ul class="space-y-1">
    <li><span class="text-muted-foreground">Email:</span> <a href="mailto:${j.email}" class="underline">${d(j.email)}</a></li>
    <li><span class="text-muted-foreground">GitHub:</span> <a href="${j.github}" target="_blank" rel="noopener" class="underline">${d(j.github)}</a></li>
    <li><span class="text-muted-foreground">LinkedIn:</span> <a href="${j.linkedin}" target="_blank" rel="noopener" class="underline">${d(j.linkedin)}</a></li>
  </ul>
</section>`})});b.set("cv",{name:"cv",description:"Open CV/resume",execute:()=>({html:`<p>Opening CV... <a href="${j.cvUrl}" target="_blank" rel="noopener" class="underline">Click here if not redirected</a></p>`,navigate:j.cvUrl})});b.set("clear",{name:"clear",description:"Clear terminal",execute:()=>({html:"__CLEAR__"})});b.set("exit",{name:"exit",description:"Exit terminal mode",execute:()=>({html:"<p>Exiting terminal...</p>",navigate:"/"})});b.set("ask",{name:"ask",description:"Ask about my work",usage:"ask <question>",execute:async n=>{var e;const s=n.join(" ");if(!s)return{html:'<p class="text-red-400">Usage: ask &lt;question&gt;</p><p class="text-muted-foreground mt-1">Example: ask what technologies do you use?</p>'};try{const r=await(await fetch("/api/ask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:s})})).json(),l=((e=r.sources)==null?void 0:e.length)>0?`<div class="mt-3 pt-3 border-t border-border"><p class="text-muted-foreground text-sm">Sources:</p><ul class="mt-1">${r.sources.map(i=>`<li><a href="${i.url}" class="text-sm underline">${d(i.title)}</a></li>`).join("")}</ul></div>`:"";return{html:`<div><p>${d(r.answer)}</p>${l}</div>`}}catch{return{html:'<p class="text-red-400">Failed to process question. Try again.</p>'}}}});function Xe(n){return b.get(n.toLowerCase())}async function Ze(n){var l;const s=n.trim().split(/\s+/),e=(l=s[0])==null?void 0:l.toLowerCase(),o=s.slice(1);if(!e)return{html:""};const r=Xe(e);return r?r.execute(o):{html:`<p class="text-red-400">Command not found: ${d(e)}</p><p class="text-muted-foreground mt-1">Type <code>help</code> for available commands.</p>`}}var et=w('<meta name="description" content="Interactive terminal interface to explore the portfolio."/>'),tt=w(`<div class="container-main py-12"><h1 class="text-2xl font-semibold mb-3">Terminal unavailable</h1> <p class="text-muted-foreground mb-6">Something went wrong while loading the interactive terminal. You can return home or try
      reloading this page.</p> <!></div>`),st=w('<div class="h-4 w-full bg-muted rounded motion-safe:animate-pulse"></div>'),ot=w('<div class="h-screen flex flex-col bg-background font-mono" aria-busy="true"><header class="flex items-center justify-between px-4 py-3 border-b border-border"><div class="flex items-center gap-2"><span class="text-muted-foreground text-sm">portfolio</span> <span class="text-muted-foreground/50">~</span></div> <!></header> <div class="flex-1 overflow-y-auto p-4 space-y-4"><div class="space-y-2"><div class="h-4 w-52 bg-muted rounded motion-safe:animate-pulse"></div> <div class="h-4 w-80 bg-muted rounded motion-safe:animate-pulse"></div></div> <div class="space-y-3"></div></div> <div class="border-t border-border p-4"><div class="h-10 w-full bg-muted rounded motion-safe:animate-pulse"></div></div></div>'),rt=w('<div class="h-screen flex flex-col bg-background font-mono"><header class="flex items-center justify-between px-4 py-3 border-b border-border"><div class="flex items-center gap-2"><span class="text-muted-foreground text-sm">portfolio</span> <span class="text-muted-foreground/50">~</span></div> <!></header> <div class="flex-1 overflow-y-auto p-4 space-y-4"><div class="text-muted-foreground"><p>Welcome to the portfolio terminal.</p> <p>Type <code class="bg-muted px-1.5 py-0.5 rounded text-foreground">help</code> to see available commands.</p></div> <!> <!></div> <div class="border-t border-border p-4 relative"><!> <!></div></div>'),at=w("<!> <noscript></noscript>",1);function $t(n,s){V(s,!0);let e=C(ae([])),o=C(-1),r=C(""),l=C(ae([])),i=C(-1),p=C(!1),_=C(void 0),$=C(void 0),v=C(!1),h=C(null);const x=["help","projects","about","ask what do you do?"],E=[0,1,2,3,4];function D(a){console.error("Terminal UI error",a),c(h,"Terminal failed to initialize. Please try again or return home.")}function G(a,u){c(e,[...t(e),{command:a,output:u,timestamp:Date.now()}],!0),c(o,t(e).length,!0)}function ve(){c(e,[],!0),c(o,-1)}function xe(){var a;return t(e).length===0?null:(t(o)>0?c(o,t(o)-1):c(o,0),((a=t(e)[t(o)])==null?void 0:a.command)??null)}function be(){var a;return t(e).length===0?null:t(o)<t(e).length-1?(c(o,t(o)+1),((a=t(e)[t(o)])==null?void 0:a.command)??null):(c(o,t(e).length,!0),"")}function ye(){c(o,t(e).length,!0)}Ae(()=>{var a;c(v,!0);try{(a=t($))==null||a.focus()}catch(u){D(u)}});function ee(a){if(!t(h))try{c(l,ge(a,b),!0),c(i,-1)}catch(u){D(u)}}async function te(a){var u;if(!t(h)){c(p,!0),c(l,[],!0),c(i,-1);try{const T=await Ze(a);T.html==="__CLEAR__"?ve():G(a,T.html),c(r,""),ye(),c(p,!1),setTimeout(()=>{t(_)&&(t(_).scrollTop=t(_).scrollHeight)},10),T.navigate&&setTimeout(()=>{Re(T.navigate)},100),(u=t($))==null||u.focus()}catch(T){c(p,!1),D(T)}}}function _e(a){if(!t(h))try{if(a.key==="ArrowUp"){if(a.preventDefault(),t(l).length>0&&t(i)>0)ne(i,-1);else if(t(l).length===0){const u=xe();u!==null&&c(r,u,!0)}}else if(a.key==="ArrowDown"){if(a.preventDefault(),t(l).length>0&&t(i)<t(l).length-1)ne(i);else if(t(l).length===0){const u=be();u!==null&&c(r,u,!0)}}else if(a.key==="Tab")if(a.preventDefault(),t(l).length>0&&t(i)>=0)c(r,t(l)[t(i)].command,!0),c(l,[],!0);else{const u=Qe(t(r),b);u&&(c(r,u,!0),ee(t(r)))}else a.key==="Enter"&&t(i)>=0?(a.preventDefault(),c(r,t(l)[t(i)].command,!0),c(l,[],!0),c(i,-1)):a.key==="Escape"&&(c(l,[],!0),c(i,-1))}catch(u){D(u)}}function $e(a){var u;c(r,a.command,!0),c(l,[],!0),c(i,-1),(u=t($))==null||u.focus()}function we(a){te(a)}var se=at();Ne("1dhdpeh",a=>{var u=et();Pe(()=>{Le.title="Terminal - Portfolio"}),f(a,u)});var je=Y(se);{var ke=a=>{var u=tt(),T=y(g(u),4);J(T,{href:"/",children:(W,oe)=>{R();var S=F("Back home");f(W,S)},$$slots:{default:!0}}),m(u),f(a,u)},Ce=a=>{var u=ie(),T=Y(u);{var W=S=>{var A=ot(),P=g(A),K=y(g(P),2);J(K,{href:"/",variant:"ghost",size:"sm",children:(N,M)=>{R();var U=F("Exit");f(N,U)},$$slots:{default:!0}}),m(P);var L=y(P,2),I=y(g(L),2);H(I,21,()=>E,Z,(N,M)=>{var U=st();f(N,U)}),m(I),m(L),R(2),m(A),f(S,A)},oe=S=>{var A=rt(),P=g(A),K=y(g(P),2);J(K,{href:"/",variant:"ghost",size:"sm",children:(k,nt)=>{R();var Se=F("Exit");f(k,Se)},$$slots:{default:!0}}),m(P);var L=y(P,2),I=y(g(L),2);{var N=k=>{Ye(k,{get commands(){return x},onselect:we})};O(I,k=>{t(e).length===0&&k(N)})}var M=y(I,2);Me(M,{get entries(){return t(e)}}),m(L),Q(L,k=>c(_,k),()=>t(_));var U=y(L,2),re=g(U);Ge(re,{get suggestions(){return t(l)},get selectedIndex(){return t(i)},onselect:$e});var Te=y(re,2);Q(ze(Te,{onsubmit:te,onkeydown:_e,oninput:ee,get disabled(){return t(p)},get value(){return t(r)},set value(k){c(r,k,!0)}}),k=>c($,k,!0),()=>t($)),m(U),m(A),f(S,A)};O(T,S=>{t(v)?S(oe,!1):S(W)},!0)}f(a,u)};O(je,a=>{t(h)?a(ke):a(Ce,!1)})}R(2),f(n,se),B()}export{$t as component};
